# 인상적인 문장들 정리

## 1장 마이크로서비스
* 도메인 주도 설계(DDD), 지속적 배포(continuous delivery), 주문형 가상화(on-demand vitualization), 인프라스트럭쳐 자동화, 작고 자율적인 팀, 대규모 시스템 등의 분위기에 편승한 마이크로서비스는 실사용을 기반을 하나의 대세 내지는 패턴으로 부상했다.
* 황금률은 '다른 변경없이 특정 서비스만 변경하고 배포할 수 있는가?'(decoupling) 서비스를 잘 분리하려면 서비스를 올바르게 모델링하고 API를 제대로 만들어야 한다.
* 회복공학(resilence engineering)의 핵심은 격벽(bulkhead)이다. 즉 특정 컴포넌트에 장애가 발생하더라도 그 장애가 전파되지 않는다면 해당 문제를 격리하고 나머지 시스템을 계속 작동시킬 수 있다. 서비스의 경계야말로 명확한 격벽인 셈이다.
* 하나의 큰 모놀리식 서비스에서는 항상 모든 것을 함께 확장해야 한다. 만약 작은 서비스들로 구성되어 있다면 필요한 서비스만 확장할 수 있다. 온라인 패션몰인 길트(Gilt)가 이런 이유로 마이크로서비스를 도입했다. 길트는 2007년 Ruby on Rails로 작성한 모놀리식 애플리케이션을 2009년 자바로 작성된 10개의 마이크로서비스로 변환했고, 2011년에 스칼라를 적용했다. 2014년 Node.js를 도입하여 수백 개 이상의 마이크로서비스를 운영하고 있다.
* 마이크로서비스가 공짜도 은총알도 아니면, 황금 망치로 오인되는 일이 없어야 한다. 마이크로서비스는 분산 시스템과 연관된 모든 종류의 복잡성을 내포하고 있다. 마이크로서비스가 제공하는 혜택을 얻기 위해서는 배포, 테스트, 모니터링을 훨씬 더 잘 다루어야 할 것이다. 또한 시스템을 확대하고 회복력을 유지하는 방법에 대해 다르게 생각해야 할 것이다. 분산 트랜잭션이나 CAP 정리와 같은 것들이 골치 아플 수 있을 텐데 각오해야 할 것이다.

## 2장 진화적 아키텍트
* 필자는 우리가 바라는 IT 아키텍트의 역할을 더 잘 요약하는 다음의 비유를 좋아한다. 에릭 도넌버그는 아키텍트의 역할을 건축가보다는 도시 설계자에 아까운 의미로 접근해야 한다는 아이디어를 처음으로 필자와 공유했다. 도시 설계자의 역할은 다양한 정보 소스를 파악하고, 현재 시민의 요구에 부응함과 동시에 미래의 용도까지 고려하면서 도시 배치를 최적화 하는 것이다. 도시 설계자가 도시 발전에 영향을 미치는 방식은 흥미롭다. 그는 '특정 건물을 거기에 만들라'고 하는 대신 도시를 구역화한다.
* 넷플릭스는 데이터 저장 기술을 대부분 카산드라(cassandra)로 통일 했다. 비록 모든 경우에 적합한 최선의 대응책은 아닐지라도, 넷플릭스는 카산드라와 관련된 도구 및 전문지식을 통해 얻는 가치야말로 몇몇 특정 태스트에 더 적합할 수 있는 다수의 이종 플랫폼 확장을 지원하고 운영하는 것보다 더 중요하다고 생각했다.
* 만약 한 서비스는 HTTP 상에서 REST를 노출하고, 다른 서비스는 프로토콜 버퍼를, 또 다른 서비스는 자바 RMI를 사용하기로 결정한다면, 호출하는 서비스가 의사소통을 위한 다양한 스타일을 이해하고 지원해야 하므로 통합 작업은 악몽이 될 수 있다. 이것이 필자가 다이어그램 박스들 간에 벌어지는 이벤트를 걱정하고, 내부에서의 일에 대해서는 자유로워야 한다는 지침에 집착하는 이유다.
* 시스템 설계상의 결정은 모두 trade-off와 관련된다. 의사결정을 구조화(framing)화 할 수 있는 가장 좋은 방법은 성취해야할 목표에 기반하여 일련의 원칙과 실천 사항을 정의하는 것이다.
* 전략적 목표에서는 회사가 어디를 향해 나아가고 있는지, 그리고 고객을 행복하게 만들기 위해 어떻게 해야 할지 언급해야 한다. ex) '신규시장 개척을 위해 동남아시아로 영역 확장', '고객이 셀프서비스를 최대한 많이 사용하게 하자'
* 원칙은 더 큰 목표를 위해 해야 할 일을 정렬하는 규칙으로, 때로는 변경 될 수 있다. 예를 들어 조직의 전략적 목표 중 하나가 새로운 제품의 시장 출시 시간(time to market)을 줄이는 것이라면, 제품 출시 팀이 소프트웨어의 수명주기 전반에 대한 통제권을 가지고, 제품이 준비될 때 마다 다른 팀과는 독립적으로 출시하도록 원칙을 정할 수 있다. 원칙의 수는 10개 미만인 것이 좋다. 클라우드 애플리케이션 플랫폼인 헤로쿠(heroku)의 12가지 요소(www.12factor.net)는 헤로쿠 플랫폼 상에서 잘 동작하는 애플리케이션을 작성하기 위해 정리된 일련의 설계 원칙으로, 다른 맥락에 적용해도 효과적이다.
* 실천 사항(practice)은 원칙을 실행하는 방법으로, 업무 수행을 위한 자세하고도 실질적인 지침이다. 이것은 대개 기술 명세적이며, 어떤 개발자든 이해할 수 있도록 충분히 구체적이어야 한다.
* 아키텍트는 많은 것에 대해 책임을 진다. 그들은 개발을 이끌 수 있는 일련의 원칙을 정하고, 원칙들이 조직의 전략과 일치하도록 보장할 뿐만 아니라 이 원칙들로 인해 개발자를 비참하게 만드는 실천 사항이 만들어지지 않도록 해야 한다.
* 기술 리더의 역할은 사람들이 스스로 비전을 이해하도록 그들의 성장을 돕고, 비전을 결정하고 구현하는 데 적극적으로 참여할 수 있도록 만드는 것이다.